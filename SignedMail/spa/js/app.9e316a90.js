(()=>{"use strict";var e={1223:(e,t,n)=>{n(5363),n(71);var i=n(8880),r=n(9592),o=n(3673);function a(e,t,n,i,r,a){const c=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(c)}var c=n(1055);window.handleOpenURL=function(e){const t=e.split("signedmail://");window.localStorage.setItem(c.x,JSON.stringify(t[1]))};const s=(0,o.aZ)({name:"App"});var l=n(4260);const u=(0,l.Z)(s,[["render",a]]),d=u;var y=n(329),p=n(7083),f=n(9582);const v=[{path:"/",component:()=>Promise.all([n.e(736),n.e(121)]).then(n.bind(n,1121)),children:[{name:"encrypt",path:"",component:()=>Promise.all([n.e(736),n.e(183)]).then(n.bind(n,7183))},{name:"decrypt",path:"decrypt",component:()=>Promise.all([n.e(736),n.e(549)]).then(n.bind(n,6549))},{name:"signing",path:"signing",component:()=>Promise.all([n.e(736),n.e(742)]).then(n.bind(n,3742))},{name:"verifying",path:"verifying",component:()=>Promise.all([n.e(736),n.e(217)]).then(n.bind(n,7217))},{name:"public",path:"public",component:()=>n.e(961).then(n.bind(n,6961))},{name:"private",path:"private",component:()=>n.e(933).then(n.bind(n,3933))},{name:"add",path:"add",component:()=>Promise.all([n.e(736),n.e(604)]).then(n.bind(n,7293))},{name:"help",path:"help",component:()=>n.e(450).then(n.bind(n,6450))},{name:"about",path:"about",component:()=>n.e(664).then(n.bind(n,1664))},{name:"privacy",path:"privacy",component:()=>n.e(975).then(n.bind(n,6975))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([n.e(736),n.e(293)]).then(n.bind(n,3343))}],m=v,h=(0,p.BC)((function(){const e=f.r5,t=(0,f.p7)({scrollBehavior:()=>({left:0,top:0}),routes:m,history:e("/SignedMail/")});return t}));async function g(e,t){const i="function"===typeof y["default"]?await(0,y["default"])({}):y["default"],{storeKey:o}=await Promise.resolve().then(n.bind(n,329)),a="function"===typeof h?await h({store:i}):h;i.$router=a;const c=e(d);return c.use(r.Z,t),{app:c,store:i,storeKey:o,router:a}}var b=n(6417),K=n(1525);const P={config:{},plugins:{Notify:b.Z,Dialog:K.Z}},w="/SignedMail/",D=/\/\//,I=e=>(w+e).replace(D,"/");async function x({app:e,router:t,store:n,storeKey:i},r){let o=!1;const a=e=>{try{return I(t.resolve(e).href)}catch(n){}return Object(e)===e?null:e},c=e=>{if(o=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=a(e);null!==t&&(window.location.href=t,window.location.reload())},s=window.location.href.replace(window.location.origin,"");for(let u=0;!1===o&&u<r.length;u++)try{await r[u]({app:e,router:t,store:n,ssrContext:null,redirect:c,urlPath:s,publicPath:w})}catch(l){return l&&l.url?void c(l.url):void console.error("[Quasar] boot error:",l)}!0!==o&&(e.use(t),e.use(n,i),e.mount("#q-app"))}g(i.ri,P).then((e=>Promise.all([Promise.resolve().then(n.bind(n,6451))]).then((t=>{const n=t.map((e=>e.default)).filter((e=>"function"===typeof e));x(e,n)}))))},6451:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s,i18n:()=>c});var i=n(7083),r=n(5948);const o={failed:"Action failed",success:"Action was successful"},a={"en-US":o},c=(0,r.o)({locale:"en-US",messages:a}),s=(0,i.xr)((({app:e})=>{e.use(c)}))},329:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w,storeKey:()=>P,useStore:()=>D});var i=n(7083),r=n(3617);function o(){return{publicKeys:[],privateKeys:[],defaults:{encrypt:{privateKeyID:void 0,publicKeyID:void 0},decrypt:{privateKeyID:void 0,publicKeyID:void 0},signingKeyID:void 0,verifyingKeyID:void 0,displayKeyID:void 0}}}const a=o;var c=n(745),s=function(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{s(i.next(e))}catch(t){o(t)}}function c(e){try{s(i["throw"](e))}catch(t){o(t)}}function s(e){e.done?n(e.value):r(e.value).then(a,c)}s((i=i.apply(e,t||[])).next())}))};const l=(e,t)=>s(void 0,void 0,void 0,(function*(){let n="";n="private"===e?yield(0,c.Z9)(t):yield(0,c.DI)(t);const i=yield(0,c.VH)(t),r=i.join(", ");return{key:t,userID:r,keyID:n}})),u={addKeys(e,t){return s(this,void 0,void 0,(function*(){const n=yield l("public",t.publicKey.armor());if(e.commit("addPublicKey",n),t.privateKey){const n=yield l("private",t.privateKey.armor());e.commit("addPrivateKey",n)}}))},importPublicKey(e,t){return s(this,void 0,void 0,(function*(){const n=yield l("public",t.armor());e.commit("addPublicKey",n)}))},importPrivateKey(e,t){return s(this,void 0,void 0,(function*(){const n=yield l("public",t.armor());e.commit("addPrivateKey",n)}))},removeKeys(e,t){e.commit("removePublicKey",t.publicKey.armor()),t.privateKey&&e.commit("removePrivateKey",t.privateKey.armor())}},d=u,y={getPublicKeys(e){return e.publicKeys},getPrivateKeys(e){return e.privateKeys}},p=y,f={addPublicKey(e,t){e.publicKeys.push(t)},removePublicKey(e,t){e.publicKeys=e.publicKeys.filter((e=>e.keyID!==t))},addPrivateKey(e,t){e.privateKeys.push(t)},removePrivateKey(e,t){e.privateKeys=e.privateKeys.filter((e=>e.keyID!==t))},changeDefaultEncryptPrivateKey(e,t){e.defaults.encrypt.privateKeyID=t},changeDefaultEncryptPublicKey(e,t){e.defaults.encrypt.publicKeyID=t},changeDefaultDecryptPrivateKey(e,t){e.defaults.decrypt.privateKeyID=t},changeDefaultDecryptPublicKey(e,t){e.defaults.decrypt.publicKeyID=t},changeDefaultSigning(e,t){e.defaults.signingKeyID=t},changeDefaultVerifying(e,t){e.defaults.verifyingKeyID=t},changeDefaultDisplay(e,t){e.defaults.displayKeyID=t}},v=f,m={namespaced:!0,actions:d,getters:p,mutations:v,state:a},h=m;var g=n(4623);const b={initialiseStore(e,t){e.keys=t}},K=b,P=Symbol("vuex-key"),w=(0,i.h)((function(){const e=(0,r.MT)({modules:{keys:h},plugins:g.ZP,mutations:K,strict:!1});return e}));function D(){return(0,r.oR)(P)}},4623:(e,t,n)=>{n.d(t,{QM:()=>o,ZP:()=>a});const i="signedmail",r=e=>{e.subscribe((({type:e},{keys:t})=>{"initialiseStore"!==e&&window.localStorage.setItem(i,JSON.stringify(t))}))},o=()=>JSON.parse(window.localStorage.getItem(i)||"null"),a=[r]},1055:(e,t,n)=>{n.d(t,{x:()=>i,P:()=>r});const i="url",r="signedmail://"},745:(e,t,n)=>{n.d(t,{HN:()=>a,Ne:()=>c,gI:()=>s,E0:()=>l,c:()=>d,Wg:()=>y,WB:()=>p,l:()=>f,n5:()=>v,Z9:()=>m,DI:()=>h,VH:()=>g});var i=n(8599),r=n(1525),o=function(e,t,n,i){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{s(i.next(e))}catch(t){o(t)}}function c(e){try{s(i["throw"](e))}catch(t){o(t)}}function s(e){e.done?n(e.value):r(e.value).then(a,c)}s((i=i.apply(e,t||[])).next())}))};const a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/,c=["ecc","rsa"],s=["ed25519","curve25519","p256","p384","p521","secp256k1","brainpoolP256r1","brainpoolP384r1","brainpoolP512r1"];function l(e,t,n,r="ecc",a="curve25519",c=[]){return o(this,void 0,void 0,(function*(){return yield(0,i.k$)({type:r,curve:a,userIDs:[...c,{name:e,email:t}],passphrase:n,format:"object"})}))}function u(){return o(this,void 0,void 0,(function*(){return yield new Promise((e=>r.Z.create({title:"Passphrase to unlock private key",message:"Passphrase?",prompt:{model:"",type:"text"},cancel:!0}).onOk((t=>e(t))).onCancel((()=>e(void 0)))))}))}const d=e=>(0,i.xh)({armoredKey:e});function y(e,t,n){return o(this,void 0,void 0,(function*(){const r=yield(0,i.xh)({armoredKey:t}),o=yield(0,i.tn)({text:e}),a={message:o,encryptionKeys:r};if(n){const e=yield u();if(null===e)return"";const t=yield(0,i.Lo)({armoredKey:n}),r=yield(0,i.IM)({privateKey:t,passphrase:e});a.signingKeys=r}return yield(0,i.HI)(a)}))}function p(e,t,n){return o(this,void 0,void 0,(function*(){const r=yield(0,i.Lo)({armoredKey:t}),o=yield u(),a=yield(0,i.IM)({privateKey:r,passphrase:o}),c=yield(0,i.Rk)({armoredMessage:e}),s={message:c,decryptionKeys:a};if(n){const e=yield(0,i.xh)({armoredKey:n});s.expectSigned=!0,s.verificationKeys=e}const{data:l,signatures:d}=yield(0,i.pe)(s);let y;return n&&(yield d[0].verified,y=!0),{decrypted:l,verified:y}}))}function f(e,t){return o(this,void 0,void 0,(function*(){const n=yield(0,i.Lo)({armoredKey:t}),r=yield u(),o=yield(0,i.IM)({privateKey:n,passphrase:r}),a=yield(0,i.tn)({text:e}),c=yield(0,i.Xx)({message:a,signingKeys:o,detached:!0});return c}))}function v(e,t,n){return o(this,void 0,void 0,(function*(){const r=yield(0,i.xh)({armoredKey:t}),o=yield(0,i.tn)({text:e}),a=yield(0,i.Gi)({armoredSignature:n}),c={verificationKeys:r,message:o,signature:a},s=yield(0,i.T)(c),{verified:l}=s.signatures[0];return yield l,!0}))}function m(e){return o(this,void 0,void 0,(function*(){const t=yield(0,i.xh)({armoredKey:e}),n=yield t.getEncryptionKey();return n.getKeyID().toHex()}))}function h(e){return o(this,void 0,void 0,(function*(){const t=yield(0,i.xh)({armoredKey:e}),n=yield t.getSigningKey();return n.getKeyID().toHex()}))}function g(e){return o(this,void 0,void 0,(function*(){const t=yield(0,i.xh)({armoredKey:e});return t.users.map((e=>{var t;return null===(t=e.userID)||void 0===t?void 0:t.userID}))}))}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.m=e,(()=>{var e=[];n.O=(t,i,r,o)=>{if(!i){var a=1/0;for(u=0;u<e.length;u++){for(var[i,r,o]=e[u],c=!0,s=0;s<i.length;s++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](i[s])))?i.splice(s--,1):(c=!1,o<a&&(a=o));if(c){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[i,r,o]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+e+"."+{121:"0ee01ae4",148:"fe34a325",163:"440d9414",183:"683449b4",217:"b001f2e8",293:"e6bd9419",441:"50ef416b",450:"3061f599",549:"f7dcff6f",588:"5e9909c0",604:"e624ec5f",664:"a5aa4ff2",742:"7617edbc",767:"5dbf17a6",933:"6fd19c71",961:"a525e940",975:"6c183493"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+{143:"app",736:"vendor"}[e]+"."+{143:"31d6cfe0",736:"0830c373"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="signedmail:";n.l=(i,r,o,a)=>{if(e[i])e[i].push(r);else{var c,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+o){c=d;break}}c||(s=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",t+o),c.src=i),e[i]=[r];var y=(t,n)=>{c.onerror=c.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],c.parentNode&&c.parentNode.removeChild(c),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(y.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=y.bind(null,c.onerror),c.onload=y.bind(null,c.onload),s&&document.head.appendChild(c)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p="/SignedMail/"})(),(()=>{var e={143:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise(((n,i)=>r=e[t]=[n,i]));i.push(r[2]=o);var a=n.p+n.u(t),c=new Error,s=i=>{if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",c.name="ChunkLoadError",c.type=o,c.request=a,r[1](c)}};n.l(a,s,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,i)=>{var r,o,[a,c,s]=i,l=0;if(a.some((t=>0!==e[t]))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(s)var u=s(n)}for(t&&t(i);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[a[l]]=0;return n.O(u)},i=self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var i=n.O(void 0,[736],(()=>n(1223)));i=n.O(i)})();