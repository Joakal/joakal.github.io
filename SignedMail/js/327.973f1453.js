"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[327],{2327:(e,a,l)=>{l.r(a),l.d(a,{default:()=>C});var s=l(3673);const t=(0,s._)("h3",null,"Create new keys",-1),i={class:"row justify-evenly q-pa-xs"};function n(e,a,l,n,u,d){const o=(0,s.up)("q-input"),r=(0,s.up)("q-icon"),m=(0,s.up)("q-select"),p=(0,s.up)("q-expansion-item"),c=(0,s.up)("q-btn"),y=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(y,{onSubmit:e.handleCreateKeys,class:"q-gutter-md justify-center"},{default:(0,s.w5)((()=>[t,(0,s.Wm)(o,{label:"Full name",modelValue:e.name,"onUpdate:modelValue":a[0]||(a[0]=a=>e.name=a),required:"",rules:[e=>!!e||"Field is required"]},null,8,["modelValue","rules"]),(0,s.Wm)(o,{label:"Email",modelValue:e.email,"onUpdate:modelValue":a[1]||(a[1]=a=>e.email=a),type:"email",required:"",rules:[e=>!!e||"Field is required",a=>e.emailRegex.test(a)||"Email is not valid"]},null,8,["modelValue","rules"]),(0,s.Wm)(o,{label:"Passphrase",modelValue:e.passphrase,"onUpdate:modelValue":a[3]||(a[3]=a=>e.passphrase=a),type:e.hidePassphrase?"password":"input",required:"",rules:[e=>!!e||"Field is required"]},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{name:e.hidePassphrase?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[2]||(a[2]=a=>e.hidePassphrase=!e.hidePassphrase)},null,8,["name"])])),_:1},8,["modelValue","type","rules"]),(0,s.Wm)(p,{modelValue:e.expanded,"onUpdate:modelValue":a[6]||(a[6]=a=>e.expanded=a),icon:"perm_identity",label:"Advanced"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{modelValue:e.type,"onUpdate:modelValue":a[4]||(a[4]=a=>e.type=a),options:e.createTypeOptions,label:"Standard"},null,8,["modelValue","options"]),(0,s.Wm)(m,{modelValue:e.curve,"onUpdate:modelValue":a[5]||(a[5]=a=>e.curve=a),options:e.createCurveOptions,label:"Standard"},null,8,["modelValue","options"])])),_:1},8,["modelValue"]),(0,s._)("div",i,[(0,s.Wm)(c,{type:"submit",color:"primary",label:"Create keys"})])])),_:1},8,["onSubmit"])}var u=l(8430),d=l(1959),o=l(8825),r=l(745),m=l(2079);const p=(0,s.aZ)({name:"NewKey",emits:{newKeys:e=>!!e},setup(e,{emit:a}){const l=(0,o.Z)(),s=(0,d.iH)(!0),t=(0,d.iH)("test"),i=(0,d.iH)("test@test.com"),n=(0,d.iH)("test"),p=(0,d.iH)(!1),c=(0,d.iH)("ecc"),y=(0,d.iH)("curve25519"),v=()=>(0,u.mG)(this,void 0,void 0,(function*(){try{const e=yield(0,r.E0)(t.value,i.value,n.value,c.value,y.value);e&&(yield m.gb.addKeys({keys:e}),a("newKeys",e))}catch(e){const{message:a}=e;l.notify({type:"negative",message:a})}}));return{hidePassphrase:s,name:t,email:i,passphrase:n,emailRegex:r.HN,expanded:p,type:c,curve:y,createTypeOptions:r.Ne,createCurveOptions:r.gI,handleCreateKeys:v}}});var c=l(4260),y=l(5269),v=l(4842),h=l(4554),V=l(4615),b=l(7208),f=l(8240),q=l(7518),w=l.n(q);const g=(0,c.Z)(p,[["render",n]]),C=g;w()(p,"components",{QForm:y.Z,QInput:v.Z,QIcon:h.Z,QExpansionItem:V.Z,QSelect:b.Z,QBtn:f.Z})}}]);