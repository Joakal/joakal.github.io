"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[255],{5255:(e,a,i)=>{i.r(a),i.d(a,{default:()=>H});var s=i(3673),r=i(2323);const l={class:"text-title"},o=(0,s._)("p",null,"Unlocking private key is required for decrypting and signing messages",-1);function n(e,a,i,n,t,u){const p=(0,s.up)("q-icon"),d=(0,s.up)("q-input"),c=(0,s.up)("q-form"),m=(0,s.up)("q-card-section"),g=(0,s.up)("q-btn"),h=(0,s.up)("q-card-actions"),v=(0,s.up)("q-card"),f=(0,s.up)("q-dialog");return(0,s.wg)(),(0,s.j4)(f,{ref:"dialogRef",onHide:e.onDialogHide},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"q-dialog-plugin"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s._)("p",l,(0,r.zw)(e.title),1),o,(0,s.Wm)(c,{onSubmit:e.onOKClick,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{label:"Passphrase",modelValue:e.passphrase,"onUpdate:modelValue":a[1]||(a[1]=a=>e.passphrase=a),type:e.hidePassphrase?"password":"input",error:!!e.passphraseError.length,"error-message":e.passphraseError,required:"",rules:[e=>!!e||"Field is required"],autofocus:""},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{name:e.hidePassphrase?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[0]||(a[0]=a=>e.hidePassphrase=!e.hidePassphrase)},null,8,["name"])])),_:1},8,["modelValue","type","error","error-message","rules"])])),_:1},8,["onSubmit"])])),_:1}),(0,s.Wm)(h,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{color:"primary",label:"Cancel",onClick:e.onCancelClick},null,8,["onClick"]),(0,s.Wm)(g,{color:"primary",type:"submit",label:"OK",onClick:e.onOKClick},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onHide"])}var t=i(8430),u=i(1959),p=i(8777),d=i(8599);const c=(0,s.aZ)({name:"PrivateKeyDialog",props:{privateKeyString:{type:String,required:!0}},emits:[...p.Z.emits],setup(e){const{dialogRef:a,onDialogHide:i,onDialogOK:r,onDialogCancel:l}=(0,p.Z)(),o=(0,u.Vh)(e,"privateKeyString"),n=(0,u.iH)(""),c=(0,u.iH)(!0),m=(0,u.iH)(""),g=(0,u.iH)(void 0),h=(0,u.iH)("");(0,s.bv)((()=>(0,t.mG)(this,void 0,void 0,(function*(){g.value=yield(0,d.Lo)({armoredKey:o.value});const e=g.value.getUserIDs().join(", ");h.value=`Passphrase for ${e}`}))));const v=()=>(0,t.mG)(this,void 0,void 0,(function*(){if(g.value)try{const e=yield(0,d.IM)({privateKey:g.value,passphrase:n.value});return r(e)}catch(e){const{message:a}=e;m.value=a}else m.value="Error, no resolved private key found"}));return{dialogRef:a,onDialogHide:i,title:h,passphrase:n,hidePassphrase:c,passphraseError:m,onOKClick:v,onCancelClick:l}}});var m=i(4260),g=i(6778),h=i(151),v=i(5589),f=i(5269),y=i(4842),C=i(4554),k=i(9367),q=i(8240),b=i(7518),Z=i.n(b);const w=(0,m.Z)(c,[["render",n]]),H=w;Z()(c,"components",{QDialog:g.Z,QCard:h.Z,QCardSection:v.Z,QForm:f.Z,QInput:y.Z,QIcon:C.Z,QCardActions:k.Z,QBtn:q.Z})}}]);