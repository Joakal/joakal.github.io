"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[163],{163:(e,l,o)=>{o.r(l),o.d(l,{default:()=>v});var a=o(3673),t=o(2323),n=o(8880);function r(e,l,o,r,i,u){const p=(0,a.up)("q-th"),d=(0,a.up)("q-tr"),s=(0,a.up)("q-icon"),c=(0,a.up)("q-input"),w=(0,a.up)("q-td"),m=(0,a.up)("q-tooltip"),y=(0,a.up)("q-btn"),k=(0,a.up)("show-key"),f=(0,a.up)("q-table"),b=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{title:e.title,rows:e.keys,columns:e.columns,filter:e.filter,"row-key":"keyID"},{header:(0,a.w5)((e=>[(0,a.Wm)(d,{props:e},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cols,(l=>((0,a.wg)(),(0,a.j4)(p,{key:l.name,props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,t.zw)(l.label),1)])),_:2},1032,["props"])))),128)),(0,a.Wm)(p,{"auto-width":""})])),_:2},1032,["props"])])),"top-right":(0,a.w5)((()=>[(0,a.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":l[0]||(l[0]=l=>e.filter=l),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(s,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,a.w5)((l=>[(0,a.Wm)(d,{props:l},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.cols,(e=>((0,a.wg)(),(0,a.j4)(w,{key:e.name,props:l,onClick:e=>l.expand=!l.expand},{default:(0,a.w5)((()=>[(0,a.Uk)((0,t.zw)(e.value),1)])),_:2},1032,["props","onClick"])))),128)),(0,a.Wm)(w,{class:"q-gutter-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{icon:l.expand?"remove":"vpn_key",color:"primary",onClick:e=>l.expand=!l.expand},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)("View "+(0,t.zw)(e.label),1)])),_:1})])),_:2},1032,["icon","onClick"]),(0,a.Wm)(y,{icon:"content_copy",color:"primary",onClick:o=>e.addToClipboard({label:e.label,value:l.row.key})},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Copy "+(0,t.zw)(e.label),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.Wm)(y,{icon:"download",color:"secondary",onClick:o=>e.exportFile(`${e.fileName}.pub`,l.row.key)},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Download "+(0,t.zw)(e.label),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.Wm)(y,{icon:"delete",color:"negative",onClick:o=>e.confirmDeletion(l.row.keyID)},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Delete "+(0,t.zw)(e.label),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["props"]),l.row.key?(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{key:0,props:l},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{colspan:"2"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{keyValue:l.row.key,label:e.label,keyDetail:""},null,8,["keyValue","label"])])),_:2},1024)])),_:2},1032,["props"])),[[n.F8,l.expand]]):(0,a.kq)("",!0)])),_:1},8,["title","rows","columns","filter"])])),_:1})}var i=o(1959),u=o(8825),p=o(2841),d=o(6598),s=o(902);const c=[{name:"keyID",required:!0,label:"Key ID",field:"keyID",align:"left",sortable:!0},{name:"userID",required:!0,label:"User ID",field:"userID",align:"left",sortable:!0}],w=(0,a.aZ)({components:{ShowKey:s.Z},name:"KeyTable",props:{title:{type:String,required:!0},label:{type:String,required:!0},keys:{type:Array,required:!0}},emits:{deleteKey:e=>!!e},setup(e,{emit:l}){const o=(0,u.Z)();function a(e){o.dialog({title:"Confirm",message:"Are you sure you want to delete this key?",cancel:!0}).onOk((()=>{l("deleteKey",e),o.notify({type:"positive",message:"Key successfully deleted"})}))}const t=(0,i.Vh)(e,"label"),n=t.value.split(" ").join("_");return{filter:(0,i.iH)(""),initialPagination:{sortBy:"",descending:!1,page:1,rowsPerPage:10},columns:c,fileName:n,confirmDeletion:a,addToClipboard:d.H,exportFile:p.Z}}});var m=o(4260),y=o(4379),k=o(4993),f=o(8186),b=o(2414),g=o(4842),_=o(4554),W=o(3884),q=o(8240),C=o(8870),h=o(7518),D=o.n(h);const Z=(0,m.Z)(w,[["render",r]]),v=Z;D()(w,"components",{QPage:y.Z,QTable:k.Z,QTr:f.Z,QTh:b.Z,QInput:g.Z,QIcon:_.Z,QTd:W.Z,QBtn:q.Z,QTooltip:C.Z})}}]);