(()=>{"use strict";var e={1501:(e,t,n)=>{n(7280),n(5363),n(71);var o=n(8880),i=n(9592),r=n(3673);function a(e,t,n,o,i,a){const s=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(s)}var s=n(1055);window.handleOpenURL=function(e){alert("URL"+e),console.log("HandleOpenUrl activated alone"),console.log("HandleOpenUrl activated",e);const t=e.split("signedmail://");window.localStorage.setItem(s.x,JSON.stringify(t[1]))};const c=(0,r.aZ)({name:"App"});c.render=a;const l=c;var d=n(329),u=n(7083),y=n(9582);const p=[{path:"/",component:()=>Promise.all([n.e(736),n.e(839)]).then(n.bind(n,5839)),children:[{name:"encrypt",path:"",component:()=>Promise.all([n.e(736),n.e(177)]).then(n.bind(n,5177))},{name:"decrypt",path:"decrypt",component:()=>Promise.all([n.e(736),n.e(796)]).then(n.bind(n,5796))},{name:"signing",path:"signing",component:()=>Promise.all([n.e(736),n.e(134)]).then(n.bind(n,2134))},{name:"verifying",path:"verifying",component:()=>Promise.all([n.e(736),n.e(637)]).then(n.bind(n,7637))},{name:"public",path:"public",component:()=>n.e(330).then(n.bind(n,5330))},{name:"private",path:"private",component:()=>n.e(576).then(n.bind(n,2576))},{name:"add",path:"add",component:()=>n.e(900).then(n.bind(n,2900))},{name:"help",path:"help",component:()=>n.e(135).then(n.bind(n,7135))},{name:"about",path:"about",component:()=>n.e(437).then(n.bind(n,4437))}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([n.e(736),n.e(989)]).then(n.bind(n,8989))}],f=p,v=(0,u.BC)((function(){const e=y.r5,t=(0,y.p7)({scrollBehavior:()=>({left:0,top:0}),routes:f,history:e("/SignedMail/")});return t}));async function g(e,t){const o="function"===typeof d.default?await(0,d.default)({}):d.default,{storeKey:r}=await Promise.resolve().then(n.bind(n,329)),a="function"===typeof v?await v({store:o}):v;o.$router=a;const s=e(l);return s.use(i.Z,t),{app:s,store:o,storeKey:r,router:a}}var m=n(6417),h=n(1525);const b={config:{},plugins:{Notify:m.Z,Dialog:h.Z}},K="/SignedMail/",P=/\/\//,D=e=>(K+e).replace(P,"/");async function w({app:e,router:t,store:n,storeKey:o},i){let r=!1;const a=e=>{r=!0;const n=Object(e)===e?D(t.resolve(e).fullPath):e;window.location.href=n},s=window.location.href.replace(window.location.origin,"");for(let l=0;!1===r&&l<i.length;l++)try{await i[l]({app:e,router:t,store:n,ssrContext:null,redirect:a,urlPath:s,publicPath:K})}catch(c){return c&&c.url?void(window.location.href=c.url):void console.error("[Quasar] boot error:",c)}!0!==r&&(e.use(t),e.use(n,o),e.mount("#q-app"))}g(o.ri,b).then((e=>Promise.all([Promise.resolve().then(n.bind(n,6451))]).then((t=>{const n=t.map((e=>e.default)).filter((e=>"function"===typeof e));w(e,n)}))))},6451:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c,i18n:()=>s});var o=n(7083),i=n(5948);const r={failed:"Action failed",success:"Action was successful"},a={"en-US":r},s=(0,i.o)({locale:"en-US",messages:a}),c=(0,o.xr)((({app:e})=>{e.use(s)}))},329:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D,storeKey:()=>P,useStore:()=>w});var o=n(7083),i=n(4692);function r(){return{publicKeys:[],privateKeys:[],defaults:{encrypt:{privateKeyID:void 0,publicKeyID:void 0},decrypt:{privateKeyID:void 0,publicKeyID:void 0},signingKeyID:void 0,verifyingKeyID:void 0,displayKeyID:void 0}}}const a=r;var s=n(745),c=function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{c(o.next(e))}catch(t){r(t)}}function s(e){try{c(o["throw"](e))}catch(t){r(t)}}function c(e){e.done?n(e.value):i(e.value).then(a,s)}c((o=o.apply(e,t||[])).next())}))};const l=(e,t)=>c(void 0,void 0,void 0,(function*(){let n="";n="private"===e?yield(0,s.Z9)(t):yield(0,s.DI)(t);const o=yield(0,s.VH)(t),i=o.join(", ");return{key:t,userID:i,keyID:n}})),d={addKeys(e,t){return c(this,void 0,void 0,(function*(){const n=yield l("public",t.publicKey.armor()),o=yield l("private",t.privateKey.armor());e.commit("addPublicKey",n),e.commit("addPrivateKey",o)}))},removeKeys(e,t){e.commit("removePublicKey",t.publicKey.armor()),e.commit("removePrivateKey",t.privateKey.armor())}},u=d,y={getPublicKeys(e){return e.publicKeys},getPrivateKeys(e){return e.privateKeys}},p=y,f={addPublicKey(e,t){e.publicKeys.push(t)},removePublicKey(e,t){e.publicKeys=e.publicKeys.filter((e=>e.key!==t))},addPrivateKey(e,t){e.privateKeys.push(t)},removePrivateKey(e,t){e.privateKeys=e.privateKeys.filter((e=>e.key!==t))},changeDefaultEncryptPrivateKey(e,t){e.defaults.encrypt.privateKeyID=t},changeDefaultEncryptPublicKey(e,t){e.defaults.encrypt.publicKeyID=t},changeDefaultDecryptPrivateKey(e,t){e.defaults.decrypt.privateKeyID=t},changeDefaultDecryptPublicKey(e,t){e.defaults.decrypt.publicKeyID=t},changeDefaultSigning(e,t){e.defaults.signingKeyID=t},changeDefaultVerifying(e,t){e.defaults.verifyingKeyID=t},changeDefaultDisplay(e,t){e.defaults.displayKeyID=t}},v=f,g={namespaced:!0,actions:u,getters:p,mutations:v,state:a},m=g;var h=n(4623);const b={initialiseStore(e,t){e.keys=t}},K=b,P=Symbol("vuex-key"),D=(0,o.h)((function(){const e=(0,i.MT)({modules:{keys:m},plugins:h.ZP,mutations:K,strict:!1});return e}));function w(){return(0,i.oR)(P)}},4623:(e,t,n)=>{n.d(t,{QM:()=>r,ZP:()=>a});const o="signedmail",i=e=>{e.subscribe((({type:e},{keys:t})=>{"initialiseStore"!==e&&window.localStorage.setItem(o,JSON.stringify(t))}))},r=()=>JSON.parse(window.localStorage.getItem(o)||"null"),a=[i]},1055:(e,t,n)=>{n.d(t,{x:()=>o});const o="url"},745:(e,t,n)=>{n.d(t,{HN:()=>a,Ne:()=>s,gI:()=>c,E0:()=>l,Wg:()=>u,WB:()=>y,l:()=>p,n5:()=>f,Z9:()=>v,DI:()=>g,VH:()=>m});var o=n(8599),i=n(1525),r=function(e,t,n,o){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function a(e){try{c(o.next(e))}catch(t){r(t)}}function s(e){try{c(o["throw"](e))}catch(t){r(t)}}function c(e){e.done?n(e.value):i(e.value).then(a,s)}c((o=o.apply(e,t||[])).next())}))};const a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/,s=["ecc","rsa"],c=["ed25519","curve25519","p256","p384","p521","secp256k1","brainpoolP256r1","brainpoolP384r1","brainpoolP512r1"];function l(e,t,n,i="ecc",a="curve25519",s=[]){return r(this,void 0,void 0,(function*(){return console.log("name email, etc",e,t,n),yield(0,o.k$)({type:i,curve:a,userIDs:[...s,{name:e,email:t}],passphrase:n,format:"object"})}))}function d(){return r(this,void 0,void 0,(function*(){return yield new Promise((e=>i.Z.create({title:"Passphrase to unlock private key",message:"Passphrase?",prompt:{model:"",type:"text"},cancel:!0}).onOk((t=>(console.log("onOk data",t),e(t)))).onCancel((()=>e(void 0)))))}))}function u(e,t,n){return r(this,void 0,void 0,(function*(){console.log("Signature is encryptMessage",t);const i=yield(0,o.xh)({armoredKey:t.key});console.log("Signature is encryptMessage");const r=yield(0,o.tn)({text:e}),a={message:r,encryptionKeys:i};if(n){const e=yield d();if(null===e)return"";console.log("passphrase",e);const t=yield(0,o.Lo)({armoredKey:n.key}),i=yield(0,o.IM)({privateKey:t,passphrase:e});a.signingKeys=i}return console.log("encryptBody",a),yield(0,o.HI)(a)}))}function y(e,t,n){return r(this,void 0,void 0,(function*(){console.log("decryptMessage");const i=yield(0,o.Lo)({armoredKey:t.key});console.log("resolvedPrivateKey",i),console.log("resolvedPrivateKey getKeyID",i.getKeyID().toHex()),console.log("resolvedPrivateKey getKeyIDs",i.getKeyIDs().map((e=>e.toHex())));const r=yield d(),a=yield(0,o.IM)({privateKey:i,passphrase:r});console.log("encryptedBody",e);const s=yield(0,o.Rk)({armoredMessage:e});console.log("message",s),console.log("message getEncryptionKeyIDs",s.getEncryptionKeyIDs().map((e=>e.toHex()))),console.log("message getSigningKeyIDs",s.getSigningKeyIDs().map((e=>e.toHex())));const c={message:s,decryptionKeys:a};if(n){const e=yield(0,o.xh)({armoredKey:n.key});console.log("resolvedPublicKey",e),c.expectSigned=!0,c.verificationKeys=e}const{data:l,signatures:u}=yield(0,o.pe)(c);let y;return console.log("decrypted",l),n&&(yield u[0].verified,y=!0),{decrypted:l,verified:y}}))}function p(e,t){return r(this,void 0,void 0,(function*(){const n=yield(0,o.Lo)({armoredKey:t.key}),i=yield d(),r=yield(0,o.IM)({privateKey:n,passphrase:i}),a=yield(0,o.tn)({text:e});console.log("Signature is signMessage");const s=yield(0,o.Xx)({message:a,signingKeys:r,detached:!0});return console.log("cleartextMessage",s),s}))}function f(e,t,n){return r(this,void 0,void 0,(function*(){const i=yield(0,o.xh)({armoredKey:t.key}),r=yield(0,o.tn)({text:e}),a=yield(0,o.Gi)({armoredSignature:n}),s={verificationKeys:i,message:r,signature:a},c=yield(0,o.T)(s);console.log("verify done");const{verified:l,keyID:d}=c.signatures[0];return yield l,console.log("Signed by key id "+d.toHex()),!0}))}function v(e){return r(this,void 0,void 0,(function*(){const t=yield(0,o.xh)({armoredKey:e}),n=yield t.getEncryptionKey();return n.getKeyID().toHex()}))}function g(e){return r(this,void 0,void 0,(function*(){const t=yield(0,o.xh)({armoredKey:e}),n=yield t.getSigningKey();return n.getKeyID().toHex()}))}function m(e){return r(this,void 0,void 0,(function*(){const t=yield(0,o.xh)({armoredKey:e});return t.users.map((e=>{var t;return null===(t=e.userID)||void 0===t?void 0:t.userID}))}))}}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,(()=>{var e=[];n.O=(t,o,i,r)=>{if(!o){var a=1/0;for(d=0;d<e.length;d++){for(var[o,i,r]=e[d],s=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(s=!1,r<a&&(a=r));if(s){e.splice(d--,1);var l=i();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,i,r]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+e+"."+{98:"f44c3dc1",134:"f71d0267",135:"4ffd1ef1",168:"1b70a39b",177:"dace9808",330:"c316a39e",400:"f1a51dc4",437:"a1ca4416",576:"653956b7",637:"13873b53",721:"6da68fe7",796:"4f8d33d2",839:"062fd38c",900:"2b86fd14",954:"75f31650",989:"cc2f9ebf"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/vendor.a04a8d58.css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="signedmail:";n.l=(o,i,r,a)=>{if(e[o])e[o].push(i);else{var s,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+r),s.src=o),e[o]=[i];var y=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(y.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=y.bind(null,s.onerror),s.onload=y.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.p="/SignedMail/"})(),(()=>{var e={143:0};n.f.j=(t,o)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var r=new Promise(((n,o)=>i=e[t]=[n,o]));o.push(i[2]=r);var a=n.p+n.u(t),s=new Error,c=o=>{if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,i[1](s)}};n.l(a,c,"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,o)=>{var i,r,[a,s,c]=o,l=0;for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)var d=c(n);for(t&&t(o);l<a.length;l++)r=a[l],n.o(e,r)&&e[r]&&e[r][0](),e[a[l]]=0;return n.O(d)},o=self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[736],(()=>n(1501)));o=n.O(o)})();