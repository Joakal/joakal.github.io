"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[134],{6598:(e,t,n)=>{n.d(t,{H:()=>l});var i=n(1914),a=n(6417);const l=({label:e,value:t})=>(0,i.Z)(t).then((()=>{a.Z.create({type:"positive",message:`Copied ${e} to clipboard`})}))},2134:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var i=n(3673);const a=(0,i.Wm)("div",{class:"flex flex-center"},[(0,i.Wm)("div",{class:"text-h4"},"Signing")],-1),l={class:"fit col"},o={class:"fit col justify-center q-pa-sm q-gutter-md"},u={class:"row q-gutter-md"},s={class:"row"},p={class:"row q-pa-sm q-gutter-md"},r=(0,i.Uk)(" No results "),d={class:"fit"};function c(e,t,n,c,m,v){const y=(0,i.up)("q-icon"),f=(0,i.up)("q-input"),g=(0,i.up)("q-btn"),b=(0,i.up)("q-item-section"),w=(0,i.up)("q-item"),h=(0,i.up)("q-select"),k=(0,i.up)("q-expansion-item"),W=(0,i.up)("q-form"),K=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(K,null,{default:(0,i.w5)((()=>[a,(0,i.Wm)(W,{onSubmit:e.handleSigning},{default:(0,i.w5)((()=>{var n,a,d;return[(0,i.Wm)("div",l,[(0,i.Wm)(f,{modelValue:e.input,"onUpdate:modelValue":t[2]||(t[2]=t=>e.input=t),filled:"",type:"textarea",label:"Input",disable:!(null!==(n=e.privateKey)&&void 0!==n&&n.key)},{append:(0,i.w5)((()=>[(0,i.Wm)(y,{name:"content_copy",class:"cursor-pointer",onClick:t[1]||(t[1]=t=>e.addToClipboard({label:"Input",value:e.input}))})])),_:1},8,["modelValue","disable"])]),(0,i.Wm)("div",o,[(0,i.Wm)("div",u,[(0,i.Wm)(g,{color:"primary",label:"Sign",onClick:e.handleSigning,disable:!(null!==(a=e.privateKey)&&void 0!==a&&a.key)},null,8,["onClick","disable"])]),(0,i.Wm)("div",s,[(0,i.Wm)(k,{class:"fit","expand-separator":"",icon:"perm_identity",label:"Settings",caption:null!==(d=e.privateKey)&&void 0!==d&&d.userID?e.privateKey.userID:"Please add a private key"},{default:(0,i.w5)((()=>[(0,i.Wm)("div",p,[(0,i.Wm)(h,{filled:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:e.privateKeyOptions,hint:"Private Key","option-value":"key","option-label":"userID",onFilter:e.privateKeyFilterFn,modelValue:e.privateKey,"onUpdate:modelValue":t[3]||(t[3]=t=>e.privateKey=t)},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b,{class:"text-grey"},{default:(0,i.w5)((()=>[r])),_:1})])),_:1})])),_:1},8,["options","onFilter","modelValue"])])])),_:1},8,["caption"])])])]})),_:1},8,["onSubmit"]),(0,i.Wm)("div",d,[(0,i.Wm)(f,{modelValue:e.output,"onUpdate:modelValue":t[5]||(t[5]=t=>e.output=t),filled:"",readonly:"",type:"textarea",label:"Output",counter:""},{append:(0,i.w5)((()=>[(0,i.Wm)(y,{name:"content_copy",class:"cursor-pointer",onClick:t[4]||(t[4]=t=>e.addToClipboard({label:"Output",value:e.output}))})])),_:1},8,["modelValue"])])])),_:1})}var m=n(1959),v=n(8825),y=n(4692),f=n(329),g=n(745),b=n(6598),w=function(e,t,n,i){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,l){function o(e){try{s(i.next(e))}catch(t){l(t)}}function u(e){try{s(i["throw"](e))}catch(t){l(t)}}function s(e){e.done?n(e.value):a(e.value).then(o,u)}s((i=i.apply(e,t||[])).next())}))};const h=(0,i.aZ)({name:"Encrypt",setup(){const e=(0,v.Z)(),t=(0,y.oR)(f.storeKey),{privateKeys:n,defaults:{signingKeyID:a}}=t.state.keys,l=(0,m.iH)(!1),o=(0,m.iH)(""),u=(0,m.iH)(""),s=(0,m.iH)(n.find((e=>e.keyID===a))),p=()=>w(this,void 0,void 0,(function*(){if(s.value){const e=yield(0,g.l)(o.value,s.value),t=`${o.value}\n\n${e}`;u.value=t}else e.notify({type:"negative",message:"You must have a private key to sign with"})})),r=(0,m.iH)(n),d=(e,t)=>{t(""!==e?()=>{const t=e.toLowerCase();r.value=n.filter((e=>e.userID.toLowerCase().indexOf(t)>-1))}:()=>{r.value=n})};return(0,i.YP)(s,(e=>{t.commit("keys/changeDefaultSigning",null===e||void 0===e?void 0:e.keyID)})),{isPwd:l,input:o,output:u,privateKey:s,privateKeyOptions:r,handleSigning:p,addToClipboard:b.H,privateKeyFilterFn:d}}});var k=n(4379),W=n(5269),K=n(4842),q=n(4554),I=n(8240),Z=n(4615),x=n(7208),C=n(3414),S=n(2035),_=n(7518),Q=n.n(_);h.render=c;const V=h;Q()(h,"components",{QPage:k.Z,QForm:W.Z,QInput:K.Z,QIcon:q.Z,QBtn:I.Z,QExpansionItem:Z.Z,QSelect:x.Z,QItem:C.Z,QItemSection:S.Z})}}]);