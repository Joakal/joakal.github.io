"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[472],{2472:(e,i,s)=>{s.r(i),s.d(i,{default:()=>w});var y=s(3673);const n={class:"q-pa-md row justify-evenly fit"},l={key:0,class:"q-pa-md row"};function o(e,i,s,o,t,a){const d=(0,y.up)("NewKey"),u=(0,y.up)("ShowKeys");return(0,y.wg)(),(0,y.iD)(y.HY,null,[(0,y._)("div",n,[(0,y._)("div",null,[(0,y.Wm)(d,{onNewKeys:i[0]||(i[0]=i=>e.showKeys=i)})])]),e.showKeys?((0,y.wg)(),(0,y.iD)("div",l,[(0,y.Wm)(u,{keys:e.showKeys},null,8,["keys"])])):(0,y.kq)("",!0)],64)}var t=s(8430),a=s(8825),d=s(1959),u=s(9582),r=s(2079),v=s(745);const c=(0,y.aZ)({name:"AddingKeys",components:{NewKey:(0,y.RC)((()=>Promise.all([s.e(736),s.e(300)]).then(s.bind(s,7300)))),ShowKeys:(0,y.RC)((()=>Promise.all([s.e(736),s.e(64),s.e(132)]).then(s.bind(s,3132))))},setup(){const e=(0,a.Z)(),i=(0,u.yj)(),s=(0,d.iH)(void 0),n=i=>(0,t.mG)(this,void 0,void 0,(function*(){const y=(0,d.Fl)((()=>r.gb.getPublicKeys)),n=(0,d.Fl)((()=>r.gb.getPrivateKeys)),l=e=>y.value.find((i=>i.keyID===e.getKeyID().toHex())),o=e=>n.value.find((i=>i.keyID===e.getKeyID().toHex())),t=yield(0,v.yG)({armoredKey:i});t&&(t.isPrivate()&&o(t)||l(t)?e.notify({type:"negative",message:"This key already exists locally"}):yield r.gb.importPublicKey({key:t}),s.value={publicKey:t})}));return(0,y.bv)((()=>(0,t.mG)(this,void 0,void 0,(function*(){var e;(null===(e=i.query)||void 0===e?void 0:e.key)&&(yield n(i.query.key))})))),{showKeys:s}}});var K=s(4260);const m=(0,K.Z)(c,[["render",o]]),w=m}}]);