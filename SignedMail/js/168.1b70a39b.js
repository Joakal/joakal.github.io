"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[168],{6598:(e,l,o)=>{o.d(l,{H:()=>i});var n=o(1914),t=o(6417);const i=({label:e,value:l})=>(0,n.Z)(l).then((()=>{t.Z.create({type:"positive",message:`Copied ${e} to clipboard`})}))},4223:(e,l,o)=>{o.r(l),o.d(l,{default:()=>q});var n=o(3673);const t={class:"q-pa-sm q-gutter-sm"},i=(0,n.Wm)("a",{href:"https://www.mysite.com/whatever/path"},"Deeplink",-1),a=(0,n.Wm)("canvas",{id:"qr-code-public-key"},null,-1),c=(0,n.Uk)(" No results ");function u(e,l,o,u,d,s){const r=(0,n.up)("q-btn"),p=(0,n.up)("q-input"),y=(0,n.up)("q-item-section"),C=(0,n.up)("q-item"),b=(0,n.up)("q-select"),m=(0,n.up)("q-card-section"),K=(0,n.up)("q-card"),w=(0,n.up)("q-dialog");return(0,n.wg)(),(0,n.j4)("div",null,[(0,n.Wm)(r,{color:"secondary",label:"Public Key",onClick:l[1]||(l[1]=l=>e.showPublicKey=!0)}),(0,n.Wm)(w,{modelValue:e.showPublicKey,"onUpdate:modelValue":l[5]||(l[5]=l=>e.showPublicKey=l)},{default:(0,n.w5)((()=>[(0,n.Wm)(K,{style:{width:"700px","max-width":"80vw"}},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,{"model-value":e.publicKeyValue,filled:"",readonly:"",type:"textarea",label:"Public Key"},null,8,["model-value"]),(0,n.Wm)("div",t,[(0,n.Wm)(r,{color:"secondary",icon:"content_copy",label:"Clipboard",onClick:l[2]||(l[2]=l=>e.addToClipboard({label:"Public Key",value:e.publicKeyValue}))}),(0,n.Wm)(r,{color:"secondary",icon:"download",label:"Download",onClick:l[3]||(l[3]=l=>e.exportFile("PublicKey.crt",e.publicKeyValue))}),(0,n.Wm)(r,{color:"secondary",icon:"qr_code_2",label:"QR Code",onClick:e.qrCode},null,8,["onClick"]),i]),a,(0,n.Wm)(b,{filled:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",clearable:"",options:e.publicKeyOptions,hint:"Public Key to share","option-value":"key","option-label":"userID",onFilter:e.publicKeyFilterFn,modelValue:e.publicKey,"onUpdate:modelValue":l[4]||(l[4]=l=>e.publicKey=l)},{"no-option":(0,n.w5)((()=>[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{class:"text-grey"},{default:(0,n.w5)((()=>[c])),_:1})])),_:1})])),_:1},8,["options","onFilter","modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var d=o(1959),s=o(4692),r=o(329),p=o(2841),y=o(6598),C=o(5549),b=function(e,l,o,n){function t(e){return e instanceof o?e:new o((function(l){l(e)}))}return new(o||(o=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(l){i(l)}}function c(e){try{u(n["throw"](e))}catch(l){i(l)}}function u(e){e.done?o(e.value):t(e.value).then(a,c)}u((n=n.apply(e,l||[])).next())}))};const m=(0,n.aZ)({props:{},setup(){const e=(0,s.oR)(r.storeKey),l=(0,d.iH)(!1),{publicKeys:o,defaults:{displayKeyID:t}}=e.state.keys;console.log("displayKeyID",t,e.state.keys);const i=(0,d.iH)(o),a=(0,d.iH)(o.find((e=>e.keyID===t))),c=(e,l)=>{l(""!==e?()=>{const l=e.toLowerCase();i.value=o.filter((e=>e.userID.toLowerCase().indexOf(l)>-1))}:()=>{i.value=o})},u=e=>b(this,void 0,void 0,(function*(){console.log("Start QR CODE");let l=document.getElementById("qr-code-public-key");yield C.toCanvas(l,e,{errorCorrectionLevel:"H"}),console.log("Done QR CODE")})),m=()=>b(this,void 0,void 0,(function*(){console.log("Start qrCode"),yield u("-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nxjMEYadn5BYJKwYBBAHaRw8BAQdACiQZ9hdhqqpVkU519JQYeWKmVaNzvC8P\nHJDBRJGb/6zNFHRlc3QgPHRlc3RAdGVzdC5jb20+wowEEBYKAB0FAmGnZ+QE\nCwkHCAMVCAoEFgACAQIZAQIbAwIeAQAhCRB0wigC6AxVYxYhBLu3xOcl8t/K\nkKiCu3TCKALoDFVjhA0BAM7WcBw3HlN4iXcVs4jhwwrmhaNqKBiLAFNNjF7a\nuHsiAP4lVR/tqgptHRnttpwtFisbdcIKspuFt6I5OTEGDgdqDM44BGGnZ+QS\nCisGAQQBl1UBBQEBB0CgMWsvRNHHMC+Z7nKlVzx9xIM3gGFTsSooSk5fKTyb\nawMBCAfCeAQYFggACQUCYadn5AIbDAAhCRB0wigC6AxVYxYhBLu3xOcl8t/K\nkKiCu3TCKALoDFVjF9sBAIqc9Ybfm8DsuK36sMBRA45Fx8kGHnznABxdCzaV\no3PFAP9M2W+H5P4B5k188eGhcgk1S5mwF//NLQKU/rO3QqZODg==\n=h0XG\n-----END PGP PUBLIC KEY BLOCK-----"),console.log("Done qrCode")})),K=(0,n.Fl)((()=>{var e;return(null===(e=a.value)||void 0===e?void 0:e.key)||""}));return(0,n.YP)(K,(e=>{console.log("Start currentValue",e)})),(0,n.YP)(a,(l=>{e.commit("keys/changeDefaultDisplay",null===l||void 0===l?void 0:l.keyID)})),{showPublicKey:l,publicKey:a,publicKeyValue:K,publicKeyOptions:i,publicKeyFilterFn:c,exportFile:p.Z,addToClipboard:y.H,qrCode:m}}});var K=o(8240),w=o(6778),h=o(151),v=o(5589),A=o(4842),B=o(7208),f=o(3414),g=o(2035),k=o(7518),Q=o.n(k);m.render=u;const q=m;Q()(m,"components",{QBtn:K.Z,QDialog:w.Z,QCard:h.Z,QCardSection:v.Z,QInput:A.Z,QSelect:B.Z,QItem:f.Z,QItemSection:g.Z})}}]);