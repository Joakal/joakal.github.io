"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[172],{2172:(e,l,o)=>{o.r(l),o.d(l,{default:()=>Z});var a=o(3673),n=o(2323),t=o(8880);function i(e,l,o,i,r,u){const p=(0,a.up)("q-th"),d=(0,a.up)("q-tr"),s=(0,a.up)("q-icon"),c=(0,a.up)("q-input"),w=(0,a.up)("q-td"),m=(0,a.up)("q-tooltip"),k=(0,a.up)("q-btn"),y=(0,a.up)("show-key"),f=(0,a.up)("q-table"),b=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(b,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{title:e.title,rows:e.keys,columns:e.columns,filter:e.filter,"row-key":"keyID",pagination:e.pagination},{header:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.columns,(e=>((0,a.wg)(),(0,a.j4)(p,{key:e.name},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.label),1)])),_:2},1024)))),128)),(0,a.Wm)(p,{"auto-width":""})])),_:1})])),"top-right":(0,a.w5)((()=>[(0,a.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":l[0]||(l[0]=l=>e.filter=l),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(s,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,a.w5)((l=>[(0,a.Wm)(d,{props:l},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.cols,(e=>((0,a.wg)(),(0,a.j4)(w,{key:e.name,props:l,onClick:e=>l.expand=!l.expand},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.value),1)])),_:2},1032,["props","onClick"])))),128)),(0,a.Wm)(w,{class:"q-gutter-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{icon:l.expand?"remove":"vpn_key",color:"primary",onClick:e=>l.expand=!l.expand},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)("View "+(0,n.zw)(e.label),1)])),_:1})])),_:2},1032,["icon","onClick"]),(0,a.Wm)(k,{icon:"content_copy",color:"primary",onClick:o=>e.addToClipboard({label:e.label,value:l.row.key})},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Copy "+(0,n.zw)(e.label),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.Wm)(k,{icon:"download",color:"secondary",onClick:o=>e.exportFile(`${e.fileName}.pub`,l.row.key)},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Download "+(0,n.zw)(e.label),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.Wm)(k,{icon:"delete",color:"negative",onClick:o=>e.confirmDeletion(l.row.keyID)},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Delete "+(0,n.zw)(e.label),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["props"]),l.row.key?(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{key:0,props:l},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{colspan:"2"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{keyValue:l.row.key,label:e.label,keyDetail:""},null,8,["keyValue","label"])])),_:2},1024)])),_:2},1032,["props"])),[[t.F8,l.expand]]):(0,a.kq)("",!0)])),_:1},8,["title","rows","columns","filter","pagination"])])),_:1})}var r=o(1959),u=o(8825),p=o(2841),d=o(6598);const s=[{name:"keyID",required:!0,label:"Key ID",field:"keyID",align:"left",sortable:!0},{name:"userID",required:!0,label:"User ID",field:"userID",align:"left",sortable:!0}],c=(0,a.aZ)({name:"KeyTable",components:{ShowKey:(0,a.RC)((()=>o.e(64).then(o.bind(o,4435))))},props:{title:{type:String,required:!0},label:{type:String,required:!0},keys:{type:Array,required:!0}},emits:{deleteKey:e=>!!e},setup(e,{emit:l}){const o=(0,u.Z)();function a(e){o.dialog({title:"Confirm",message:"Are you sure you want to delete this key?",cancel:!0}).onOk((()=>{l("deleteKey",e),o.notify({type:"positive",message:"Key successfully deleted"})}))}const n=(0,r.Vh)(e,"label"),t=n.value.split(" ").join("_");return{filter:(0,r.iH)(""),columns:s,fileName:t,pagination:{rowsPerPage:25},confirmDeletion:a,addToClipboard:d.H,exportFile:p.Z}}});var w=o(4260),m=o(4379),k=o(4993),y=o(8186),f=o(2414),b=o(4842),g=o(4554),_=o(3884),C=o(8240),W=o(8870),h=o(7518),q=o.n(h);const D=(0,w.Z)(c,[["render",i]]),Z=D;q()(c,"components",{QPage:m.Z,QTable:k.Z,QTr:y.Z,QTh:f.Z,QInput:b.Z,QIcon:g.Z,QTd:_.Z,QBtn:C.Z,QTooltip:W.Z})}}]);