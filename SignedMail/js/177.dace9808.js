"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[177],{6598:(e,t,l)=>{l.d(t,{H:()=>o});var i=l(1914),n=l(6417);const o=({label:e,value:t})=>(0,i.Z)(t).then((()=>{n.Z.create({type:"positive",message:`Copied ${e} to clipboard`})}))},5177:(e,t,l)=>{l.r(t),l.d(t,{default:()=>E});var i=l(3673);const n=(0,i.Wm)("div",{class:"flex flex-center"},[(0,i.Wm)("div",{class:"text-h4"},"Encrypt")],-1),o={class:"fit col"},a={class:"fit col justify-center q-pa-sm q-gutter-md"},u={class:"row q-gutter-md"},s={class:"row"},p={class:"row q-pa-sm q-gutter-md"},c=(0,i.Uk)(" No results "),r={class:"row q-pa-sm q-gutter-md"},d=(0,i.Uk)(" No results "),m={class:"fit"};function y(e,t,l,y,v,f){const b=(0,i.up)("q-icon"),w=(0,i.up)("q-input"),k=(0,i.up)("q-btn"),K=(0,i.up)("q-item-section"),g=(0,i.up)("q-item"),h=(0,i.up)("q-select"),W=(0,i.up)("q-expansion-item"),I=(0,i.up)("q-form"),C=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(C,null,{default:(0,i.w5)((()=>[n,(0,i.Wm)(I,{onSubmit:e.handleEncrypt},{default:(0,i.w5)((()=>{var l,n,m;return[(0,i.Wm)("div",o,[(0,i.Wm)(w,{modelValue:e.input,"onUpdate:modelValue":t[3]||(t[3]=t=>e.input=t),filled:"",type:e.isPwd?"password":"textarea",label:"Input",disable:!(null!==(l=e.publicKey)&&void 0!==l&&l.key)},{append:(0,i.w5)((()=>[(0,i.Wm)(b,{name:"content_copy",class:"cursor-pointer",onClick:t[1]||(t[1]=t=>e.addToClipboard({label:"Input",value:e.input}))}),(0,i.Wm)(b,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[2]||(t[2]=t=>e.isPwd=!e.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","disable"])]),(0,i.Wm)("div",a,[(0,i.Wm)("div",u,[(0,i.Wm)(k,{color:"primary",label:"Encrypt",onClick:e.handleEncrypt,disable:!(null!==(n=e.publicKey)&&void 0!==n&&n.key)},null,8,["onClick","disable"]),(0,i.Wm)(k,{onClick:e.attemptShrink},null,8,["onClick"])]),(0,i.Wm)("div",s,[(0,i.Wm)(W,{class:"fit","expand-separator":"",icon:"perm_identity",label:"Settings",caption:null!==(m=e.publicKey)&&void 0!==m&&m.userID?e.publicKey.userID:"Please add a public key"},{default:(0,i.w5)((()=>[(0,i.Wm)("div",p,[(0,i.Wm)(h,{filled:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:e.publicKeyOptions,hint:"Public Key","option-value":"key","option-label":"userID",onFilter:e.publicKeyFilterFn,modelValue:e.publicKey,"onUpdate:modelValue":t[4]||(t[4]=t=>e.publicKey=t)},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(K,{class:"text-grey"},{default:(0,i.w5)((()=>[c])),_:1})])),_:1})])),_:1},8,["options","onFilter","modelValue"])]),(0,i.Wm)("div",r,[(0,i.Wm)(h,{filled:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",clearable:"",options:e.privateKeyOptions,hint:"Private Key signing (optional)","option-value":"key","option-label":"userID",onFilter:e.privateKeyFilterFn,modelValue:e.privateKey,"onUpdate:modelValue":t[5]||(t[5]=t=>e.privateKey=t)},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(K,{class:"text-grey"},{default:(0,i.w5)((()=>[d])),_:1})])),_:1})])),_:1},8,["options","onFilter","modelValue"])])])),_:1},8,["caption"])])])]})),_:1},8,["onSubmit"]),(0,i.Wm)("div",m,[(0,i.Wm)(w,{modelValue:e.output,"onUpdate:modelValue":t[7]||(t[7]=t=>e.output=t),filled:"",readonly:"",type:"textarea",label:"Output",counter:""},{append:(0,i.w5)((()=>[(0,i.Wm)(b,{name:"content_copy",class:"cursor-pointer",onClick:t[6]||(t[6]=t=>e.addToClipboard({label:"Output",value:e.output}))})])),_:1},8,["modelValue"])])])),_:1})}var v=l(1959),f=l(8825),b=l(4692),w=l(329),k=l(745),K=l(6598),g=l(5971),h=function(e,t,l,i){function n(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,o){function a(e){try{s(i.next(e))}catch(t){o(t)}}function u(e){try{s(i["throw"](e))}catch(t){o(t)}}function s(e){e.done?l(e.value):n(e.value).then(a,u)}s((i=i.apply(e,t||[])).next())}))};const W=(0,i.aZ)({name:"Encrypt",setup(){const e=(0,f.Z)(),t=(0,b.oR)(w.storeKey),{publicKeys:l,privateKeys:n,defaults:{encrypt:{privateKeyID:o,publicKeyID:a}}}=t.state.keys,u=(0,v.iH)(!1),s=(0,v.iH)(""),p=(0,v.iH)(""),c=(0,v.iH)(l.find((e=>e.keyID===a))),r=(0,v.iH)(n.find((e=>e.keyID===o))),d=()=>h(this,void 0,void 0,(function*(){c.value?p.value=yield(0,k.Wg)(s.value,c.value,r.value):e.notify({type:"negative",message:"You must have a public key to encrypt to"})})),m=()=>{const e="This is my compression test.";console.log("Size of sample is: ",e.length);const t=(0,g.compress)(e);console.log("Size of compressed sample is: ",t.length);const l=(0,g.decompress)(t);console.log("Sample is: ",l)},y=(0,v.iH)(l),W=(0,v.iH)(n),I=(e,t)=>{t(""!==e?()=>{const t=e.toLowerCase();y.value=l.filter((e=>e.userID.toLowerCase().indexOf(t)>-1))}:()=>{y.value=l})},C=(e,t)=>{t(""!==e?()=>{const t=e.toLowerCase();W.value=n.filter((e=>e.userID.toLowerCase().indexOf(t)>-1))}:()=>{W.value=n})};return(0,i.YP)(c,(e=>{t.commit("keys/changeDefaultEncryptPublicKey",null===e||void 0===e?void 0:e.keyID)})),(0,i.YP)(r,(e=>{t.commit("keys/changeDefaultEncryptPrivateKey",null===e||void 0===e?void 0:e.keyID)})),{isPwd:u,input:s,output:p,publicKey:c,publicKeyOptions:y,privateKey:r,privateKeyOptions:W,handleEncrypt:d,addToClipboard:K.H,publicKeyFilterFn:I,privateKeyFilterFn:C,attemptShrink:m}}});var I=l(4379),C=l(5269),q=l(4842),_=l(4554),x=l(8240),D=l(4615),P=l(7208),F=l(3414),Z=l(2035),V=l(7518),S=l.n(V);W.render=y;const E=W;S()(W,"components",{QPage:I.Z,QForm:C.Z,QInput:q.Z,QIcon:_.Z,QBtn:x.Z,QExpansionItem:D.Z,QSelect:P.Z,QItem:F.Z,QItemSection:Z.Z})}}]);