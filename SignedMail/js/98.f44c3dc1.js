"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[98],{6598:(e,l,o)=>{o.d(l,{H:()=>n});var t=o(1914),a=o(6417);const n=({label:e,value:l})=>(0,t.Z)(l).then((()=>{a.Z.create({type:"positive",message:`Copied ${e} to clipboard`})}))},9098:(e,l,o)=>{o.r(l),o.d(l,{default:()=>q});o(71);var t=o(3673),a=o(2323),n=o(8880);function r(e,l,o,r,i,p){const u=(0,t.up)("q-th"),d=(0,t.up)("q-tr"),s=(0,t.up)("q-icon"),c=(0,t.up)("q-input"),m=(0,t.up)("q-td"),w=(0,t.up)("q-tooltip"),f=(0,t.up)("q-btn"),y=(0,t.up)("q-table"),k=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(k,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,{title:e.title,rows:e.keys,columns:e.columns,filter:e.filter,"row-key":"key"},{header:(0,t.w5)((e=>[(0,t.Wm)(d,{props:e},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(e.cols,(l=>((0,t.wg)(),(0,t.j4)(u,{key:l.name,props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,a.zw)(l.label),1)])),_:2},1032,["props"])))),128)),(0,t.Wm)(u,{"auto-width":""})])),_:2},1032,["props"])])),"top-right":(0,t.w5)((()=>[(0,t.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":l[1]||(l[1]=l=>e.filter=l),placeholder:"Search"},{append:(0,t.w5)((()=>[(0,t.Wm)(s,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,t.w5)((l=>[(0,t.Wm)(d,{props:l},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.j4)(t.HY,null,(0,t.Ko)(l.cols,(e=>((0,t.wg)(),(0,t.j4)(m,{key:e.name,props:l,onClick:e=>l.expand=!l.expand},{default:(0,t.w5)((()=>[(0,t.Uk)((0,a.zw)(e.value),1)])),_:2},1032,["props","onClick"])))),128)),(0,t.Wm)(m,{class:"q-gutter-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{icon:l.expand?"remove":"vpn_key",color:"primary",onClick:e=>l.expand=!l.expand},{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Uk)("View "+(0,a.zw)(e.label),1)])),_:1})])),_:2},1032,["icon","onClick"]),(0,t.Wm)(f,{icon:"content_copy",color:"primary",onClick:o=>e.addToClipboard({label:e.label,value:l.row.key})},{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Copy "+(0,a.zw)(e.label),1)])),_:1})])),_:2},1032,["onClick"]),(0,t.Wm)(f,{icon:"download",color:"secondary",onClick:o=>e.exportFile(`${e.fileName}.pub`,l.row.key)},{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Download "+(0,a.zw)(e.label),1)])),_:1})])),_:2},1032,["onClick"]),(0,t.Wm)(f,{icon:"delete",color:"negative",onClick:o=>e.confirmDeletion(l.row.key)},{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Delete "+(0,a.zw)(e.label),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["props"]),(0,t.wy)((0,t.Wm)(d,{props:l},{default:(0,t.w5)((()=>[(0,t.Wm)(m,null,{default:(0,t.w5)((()=>[(0,t.Wm)("pre",null,(0,a.zw)(l.row.key),1)])),_:2},1024),(0,t.Wm)(m,{"auto-width":""})])),_:2},1032,["props"]),[[n.F8,l.expand]])])),_:1},8,["title","rows","columns","filter"])])),_:1})}var i=o(1959),p=o(8825),u=o(2841),d=o(6598);const s=[{name:"keyID",required:!0,label:"Key ID",field:"keyID",align:"left",sortable:!0},{name:"userID",required:!0,label:"User ID",field:"userID",align:"left",sortable:!0}],c=(0,t.aZ)({name:"KeyTable",props:{title:{type:String,required:!0},label:{type:String,required:!0},keys:{type:Array,required:!0}},emits:{deleteKey:e=>!!e},setup(e,{emit:l}){const o=(0,p.Z)();function t(e){o.dialog({title:"Confirm",message:"Are you sure you want to delete this key?",cancel:!0}).onOk((()=>{l("deleteKey",e),o.notify({type:"positive",message:"Key successfully deleted"})}))}const a=(0,i.Vh)(e,"label"),n=a.value.split(" ").join("_");return{filter:(0,i.iH)(""),initialPagination:{sortBy:"",descending:!1,page:1,rowsPerPage:10},columns:s,fileName:n,confirmDeletion:t,addToClipboard:d.H,exportFile:u.Z}}});var m=o(4379),w=o(4993),f=o(8186),y=o(2414),k=o(4842),b=o(4554),g=o(3884),_=o(8240),W=o(8870),C=o(7518),h=o.n(C);c.render=r;const q=c;h()(c,"components",{QPage:m.Z,QTable:w.Z,QTr:f.Z,QTh:y.Z,QInput:k.Z,QIcon:b.Z,QTd:g.Z,QBtn:_.Z,QTooltip:W.Z})}}]);