"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[695],{5695:(e,s,i)=>{i.r(s),i.d(s,{default:()=>K});var t=i(3673);const y={class:"q-pa-md row justify-evenly fit"},n={key:0,class:"q-pa-md row"};function o(e,s,i,o,l,a){const d=(0,t.up)("NewKey"),u=(0,t.up)("ShowKeys");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",y,[(0,t._)("div",null,[(0,t.Wm)(d,{onNewKeys:s[0]||(s[0]=s=>e.showKeys=s)})])]),e.showKeys?((0,t.wg)(),(0,t.iD)("div",n,[(0,t.Wm)(u,{keys:e.showKeys},null,8,["keys"])])):(0,t.kq)("",!0)],64)}var l=i(8430),a=i(1959),d=i(8825),u=i(9582),r=i(8599),v=i(2079);const c=(0,t.aZ)({name:"AddingKeys",components:{NewKey:(0,t.RC)((()=>Promise.all([i.e(736),i.e(327)]).then(i.bind(i,2327)))),ShowKeys:(0,t.RC)((()=>Promise.all([i.e(736),i.e(64),i.e(441)]).then(i.bind(i,2441))))},setup(){const e=(0,d.Z)(),s=(0,u.yj)(),i=(0,a.iH)(void 0),y=(0,a.Fl)((()=>v.gb.getPublicKeys)),n=(0,a.Fl)((()=>v.gb.getPrivateKeys)),o=e=>y.value.find((s=>s.keyID===e.getKeyID().toHex())),c=e=>n.value.find((s=>s.keyID===e.getKeyID().toHex())),g=s=>(0,l.mG)(this,void 0,void 0,(function*(){try{const t=yield(0,r.xh)({armoredKey:s});t.isPrivate()&&c(t)||o(t)?e.notify({type:"negative",message:"This key already exists locally"}):yield v.gb.importPublicKey({key:t}),i.value={publicKey:t}}catch(t){const{message:s}=t;e.notify({type:"negative",message:s})}}));return(0,t.bv)((()=>(0,l.mG)(this,void 0,void 0,(function*(){var e;(null===(e=s.query)||void 0===e?void 0:e.key)&&(yield g(s.query.key))})))),{showKeys:i}}});var g=i(4260);const m=(0,g.Z)(c,[["render",o]]),K=m}}]);