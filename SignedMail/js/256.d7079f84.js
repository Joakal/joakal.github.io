"use strict";(self["webpackChunksignedmail"]=self["webpackChunksignedmail"]||[]).push([[256],{8256:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Q});var i=l(3673);const a=(0,i._)("h1",{class:"flex flex-center"},"Signing",-1),n={class:"fit col"},o={class:"fit col justify-center q-pa-sm q-gutter-md"},u={class:"row q-gutter-md"},d={class:"row"},s={class:"row q-pa-sm q-gutter-md"},p=(0,i.Uk)(" No results "),r={class:"fit"};function c(e,t,l,c,v,m){const g=(0,i.up)("q-icon"),y=(0,i.up)("q-input"),f=(0,i.up)("q-btn"),b=(0,i.up)("q-item-section"),S=(0,i.up)("q-item"),k=(0,i.up)("q-select"),w=(0,i.up)("q-expansion-item"),_=(0,i.up)("q-form"),K=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(K,null,{default:(0,i.w5)((()=>[a,(0,i.Wm)(_,{onSubmit:e.handleSigning},{default:(0,i.w5)((()=>{var l,a,r;return[(0,i._)("div",n,[(0,i.Wm)(y,{modelValue:e.input,"onUpdate:modelValue":t[1]||(t[1]=t=>e.input=t),filled:"",type:"textarea",label:"Input",disable:!(null===(l=e.privateKeySelected)||void 0===l?void 0:l.key)},{append:(0,i.w5)((()=>[(0,i.Wm)(g,{name:"content_copy",class:"cursor-pointer",onClick:t[0]||(t[0]=t=>e.addToClipboard({label:"Input",value:e.input}))})])),_:1},8,["modelValue","disable"])]),(0,i._)("div",o,[(0,i._)("div",u,[(0,i.Wm)(f,{color:"primary",label:"Sign",onClick:e.handleSigning,disable:!(null===(a=e.privateKeySelected)||void 0===a?void 0:a.key)},null,8,["onClick","disable"])]),(0,i._)("div",d,[(0,i.Wm)(w,{class:"fit","expand-separator":"",icon:"perm_identity",label:"Settings",caption:(null===(r=e.privateKeySelected)||void 0===r?void 0:r.userID)?e.privateKeySelected.userID:"Please add a private key"},{default:(0,i.w5)((()=>[(0,i._)("div",s,[(0,i.Wm)(k,{filled:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:e.privateKeyOptions,hint:"Private Key","option-value":"keyID","option-label":"userID",onFilter:e.privateKeyFilterFn,modelValue:e.privateKeySelected,"onUpdate:modelValue":t[2]||(t[2]=t=>e.privateKeySelected=t)},{"no-option":(0,i.w5)((()=>[(0,i.Wm)(S,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b,{class:"text-grey"},{default:(0,i.w5)((()=>[p])),_:1})])),_:1})])),_:1},8,["options","onFilter","modelValue"])])])),_:1},8,["caption"])])])]})),_:1},8,["onSubmit"]),(0,i._)("div",r,[(0,i.Wm)(y,{modelValue:e.output,"onUpdate:modelValue":t[4]||(t[4]=t=>e.output=t),filled:"",readonly:"",type:"textarea",label:"Output",counter:""},{append:(0,i.w5)((()=>[(0,i.Wm)(g,{name:"content_copy",class:"cursor-pointer",onClick:t[3]||(t[3]=t=>e.addToClipboard({label:"Output",value:e.output}))})])),_:1},8,["modelValue"])])])),_:1})}var v=l(8430),m=l(1959),g=l(8825),y=l(745),f=l(6598),b=l(2079);const S=(0,i.aZ)({name:"Signing",setup(){const e=(0,g.Z)(),t=(0,m.iH)(!1),l=(0,m.iH)(""),i=(0,m.iH)(""),a=(0,m.iH)(b.gb.getPrivateKeys),n=(0,m.Fl)((()=>b.gb.getPrivateKeys)),o=(0,m.Fl)({get:()=>b.gb.getPrivateKeys.find((e=>e.keyID===b.gb.getDefaults.signingKeyID)),set:e=>b.gb.changeDefaultSigning(null===e||void 0===e?void 0:e.keyID)}),u=()=>(0,v.mG)(this,void 0,void 0,(function*(){var t;if(null===(t=o.value)||void 0===t?void 0:t.key){const e=yield(0,y.l)(l.value,o.value.key),t=`${l.value}\n\n${e}`;i.value=t}else e.notify({type:"negative",message:"You must have a private key to sign with"})})),d=(e,t)=>{t(""!==e?()=>{const t=e.toLowerCase();a.value=n.value.filter((e=>e.userID.toLowerCase().indexOf(t)>-1))}:()=>{a.value=n.value})};return{isPwd:t,input:l,output:i,privateKeySelected:o,privateKeyOptions:a,handleSigning:u,addToClipboard:f.H,privateKeyFilterFn:d}}});var k=l(4260),w=l(4379),_=l(5269),K=l(4842),I=l(4554),q=l(8240),h=l(4615),Z=l(7208),C=l(3414),D=l(2035),W=l(7518),x=l.n(W);const F=(0,k.Z)(S,[["render",c]]),Q=F;x()(S,"components",{QPage:w.Z,QForm:_.Z,QInput:K.Z,QIcon:I.Z,QBtn:q.Z,QExpansionItem:h.Z,QSelect:Z.Z,QItem:C.Z,QItemSection:D.Z})}}]);